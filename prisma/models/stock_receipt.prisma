model StockReceipt {
  id         Int                @id @default(autoincrement())
  note       String?            @db.VarChar(255)
  status     StockReceiptStatus @default(DRAFT)
  action_at  DateTime           @default(now())
  created_at DateTime           @default(now())
  updated_at DateTime           @updatedAt
  store_id   String
  creator_id Int

  store                 Store                  @relation(fields: [store_id], references: [id])
  creator               Employee?              @relation(fields: [creator_id], references: [id])
  stock_recept_products StockReceiptProduct[]
  productStockMovements ProductStockMovement[]

  @@index([store_id])
  @@index([store_id, status])
  @@index([store_id, action_at])
  @@map("stock_recepts")
}

enum StockReceiptStatus {
  CREATING
  DRAFT
  PROCESSING
  COMPLETED
  CANCEL
}

model StockReceiptProduct {
  id         Int @id @default(autoincrement())
  quantity   Int
  stock_id   Int
  product_id Int

  stock_receipt StockReceipt @relation(fields: [stock_id], references: [id])
  product       Product      @relation(fields: [product_id], references: [id])

  @@index([stock_id])
  @@index([product_id])
  @@map("stock_receipt_products")
}
