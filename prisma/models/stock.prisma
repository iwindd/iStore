model Stock {
  id         Int             @id @default(autoincrement())
  note       String?
  state      StockState
  action_at  DateTime        @default(now())
  created_at DateTime        @default(now())
  updated_at DateTime        @updatedAt
  store_id   String
  creator_id Int

  store      Store          @relation(fields: [store_id], references: [id])
  creator    Employee?      @relation(fields: [creator_id], references: [id])
  products   StockProduct[]

  @@map("stocks")
}

model StockProduct {
  id         Int      @id @default(autoincrement())
  stock_after      Int
  stock_before     Int
  stock_id   Int
  product_id Int

  stock      Stock   @relation(fields: [stock_id], references: [id])
  product    Product @relation(fields: [product_id], references: [id])

  @@map("stock_products")
}

enum StockState {
  PROGRESS
  SUCCESS
  CANCEL
}
